# SSH

## Hibernate

### 自增类型ID生成器

Hibernate 支持自增类型ID生成器, Hibernate会自动返回生成的ID值:

1. 声明实体类:

		public class Product implements Serializable {
			private static final long serialVersionUID = -2153926759496398436L;
			
			private Integer id;
			private String name;
			private Double price;
			private Date createDate;
			
			public Product() {
			}
		
			
			public Product(Integer id, String name, Double price, Date createDate) {
				super();
				this.id = id;
				this.name = name;
				this.price = price;
				this.createDate = createDate;
			}
		
		
			public Integer getId() {
				return id;
			}
		
			public void setId(Integer id) {
				this.id = id;
			}
		
			public String getName() {
				return name;
			}
		
			public void setName(String name) {
				this.name = name;
			}
		
			public Double getPrice() {
				return price;
			}
		
			public void setPrice(Double price) {
				this.price = price;
			}
		 
			public Date getCreateDate() {
				return createDate;
			}
		
		
			public void setCreateDate(Date createDate) {
				this.createDate = createDate;
			}
		
		
			@Override
			public String toString() {
				return "Product [id=" + id + ", name=" + name + ", price=" + price + ", createDate=" + createDate + "]";
			}
		
		
			@Override
			public int hashCode() {
				final int prime = 31;
				int result = 1;
				result = prime * result + ((id == null) ? 0 : id.hashCode());
				return result;
			}
		
			@Override
			public boolean equals(Object obj) {
				if (this == obj)
					return true;
				if (obj == null)
					return false;
				if (getClass() != obj.getClass())
					return false;
				Product other = (Product) obj;
				if (id == null) {
					if (other.id != null)
						return false;
				} else if (!id.equals(other.id))
					return false;
				return true;
			}
		}

2. 添加映射文件 Product.hbm.xml

		<?xml version="1.0" encoding="UTF-8"?>
		<!DOCTYPE hibernate-mapping PUBLIC 
		    "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
		    "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
		<!-- 映射文件: 将类映射到表, 将类中的属性映射到表的列 -->
		<hibernate-mapping>
			<class name="ssh.day04.Product" table="t_product">
				<id name="id" column="t_id">
					<generator class="identity"></generator>
				</id>
				<property name="name" column="t_name"/>
				<property name="price" column="t_price"></property>
				<property name="createDate"
				 column="t_create_date"/>
			</class>
		</hibernate-mapping>

	>identity 生成规则实际是由 org.hibernate.id.IdentityGenerator 来完成处理的.

3. 更新 hibernate.cfg.xml





## 整合 Spring-Hibernate

1. 导入 Spring-orm 包
2. 导入 连接池
3. 配置 连接池和数据库连接参数